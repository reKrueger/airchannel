(this.webpackJsonpairchannelclient=this.webpackJsonpairchannelclient||[]).push([[0],{100:function(e,n,t){},102:function(e,n,t){},103:function(e,n,t){},139:function(e,n,t){},142:function(e,n,t){},155:function(e,n){},156:function(e,n){},157:function(e,n){},158:function(e,n){},159:function(e,n){},160:function(e,n){},161:function(e,n,t){},162:function(e,n,t){},166:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),s=t(15),c=t.n(s),o=(t(100),t(39)),r=t(7),l=t.n(r),u=t(16),d=t(11),p=t(12),h=t(14),f=t(13),m=(t(102),t(9)),b=t(41),j=t(90),v=t(199),_=(t(103),t(53)),x=t.n(_),O=t(87);x.a.defaults.xsrfHeaderName="X-CSRFToken",x.a.defaults.xsrfCookieName="csrftoken";var g={headers:{"Content-Type":"multipart/form-data;boundary=boundary",Accept:"application/json;text/plain"}},w={headers:{Authorization:"".concat("6ca12987d9feb7e0f8b523fdeb0c27_ce"),"Content-Type":"multipart/form-data;boundary=boundary",Accept:"application/json;text/plain"}},k="localhost"==window.location.hostname?"http://127.0.0.1:5000/transmit/":"https://airchannel-py.herokuapp.com/transmit/",N=x.a.create({baseURL:k}),y={upload_detail:function(e){return N.get("upload/".concat(e),w)},download_delete_detail:function(e){return N.delete("remove/".concat(e),w)},create_major:function(e){return N.post("major/",e,w)},is_major_detail:function(e){return N.get("major/".concat(e),w)},download_stream:function(e,n,t){return O.a.download(e,n,t)},is_mail_detail:function(e){return N.get("mailvali/".concat(e),w)},insertfile:function(e){return N.post("upload/",e,w)},create_ping:function(){return N.get("ping/",g)}},S={image:[".jpg",".jpeg",".gif",".heic",".png",".bmp",".psd"],video:[".avi",".mp4",".mpg",".mov",".wmv"],audio:[".mp3",".wav"],pdf:[".pdf"],textfiles:[".doc",".docx",".txt",".tex",".msg",".pages",".odt"],datafiles:[".csv",".dat",".ppt",".sdf",".xlsx",".tar",".iso"],compressedfiles:[".zip",".rar",".gz"]},C={highBlue:"#5ba3c7",grey:"#f0f0f0",pink:"#e8c8c8",green:"#a3c49f",orange:"#ebd7b7",white:"#ffffff",black:"#212121",accentColor:"#62bce3",olive:"#c4d184",lila:"#9397d9",red:"#d993a0",pastellgreen:"#98b8a7",yellow:"#f0df48",grey_blue:"#505a66",background1:"#505a66",background2:"#404954",background3:"#606b78",background_white:"rgba(187, 187, 187, 0.886)"},D=t(1),z=function(e){e.bgcolor;var n=e.counter,t={height:"100%",width:"".concat(n,"%"),backgroundColor:C.black};return Object(D.jsx)("div",{style:{position:"absolute",height:"100%",width:"100%",backgroundColor:"transparent"},children:Object(D.jsx)("div",{style:t})})},M=(t(80),t(22)),L=function(e){Object(h.a)(t,e);var n=Object(f.a)(t);function t(e){var a;return Object(d.a)(this,t),(a=n.call(this,e)).state={filename:""},a}return Object(p.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,n=this.props.item;return Object(D.jsxs)("div",{className:"download_item_frame",children:[Object(D.jsx)("div",{className:"item_icon_div",children:Object(D.jsx)("div",{className:"item_icon",children:Object(D.jsx)(M.c,{size:30})})}),Object(D.jsx)("div",{className:"item_name_div",children:Object(D.jsx)("div",{className:"item_name",children:n.origin_name})}),Object(D.jsx)("div",{className:"item_remove_div",children:Object(D.jsx)("button",{className:"item_remove",onClick:function(){return e.props.removeItem(n)},children:Object(D.jsx)(M.e,{size:18})})})]})}}]),t}(i.a.Component);function E(e){return Object(D.jsx)("div",{children:Object(D.jsx)("div",{className:"list_item",children:e.value})})}var T=function(e){Object(h.a)(t,e);var n=Object(f.a)(t);function t(e){var a;return Object(d.a)(this,t),(a=n.call(this,e)).create_list=function(){var e=[];return a.props.items.forEach((function(n){e.push(Object(D.jsx)(L,{item:n,removeItem:function(e){return a.props.removeItem(e)}}))})),e.map((function(n){return Object(D.jsx)(E,{value:n},e.indexOf(n))}))},a.state={},a}return Object(p.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){console.log(e,"   prevprps"),this.props.items.length!==e.items.length&&console.log("items length \xe4nderung")}},{key:"render",value:function(){return Object(D.jsx)("div",{className:"File_list_frame",children:this.create_list()})}}]),t}(i.a.Component),P=(t(139),t(88)),F=function(e){Object(h.a)(t,e);var n=Object(f.a)(t);function t(e){var a;return Object(d.a)(this,t),(a=n.call(this,e)).state={place:"top",type:"dark",effect:"float",condition:!1},a}return Object(p.a)(t,[{key:"changePlace",value:function(e){this.setState({place:e})}},{key:"changeType",value:function(e){this.setState({type:e})}},{key:"changeEffect",value:function(e){this.setState({effect:e})}},{key:"_onClick",value:function(){this.setState({condition:!0})}},{key:"render",value:function(){var e=this;return Object(D.jsx)("div",{className:"view_finish",children:Object(D.jsxs)("div",{className:"div_link",children:[Object(D.jsx)("div",{className:"link_text",children:" hier ist der link zum kopieren"}),Object(D.jsx)("a",{className:"link_copy","data-for":"custom-event","data-tip":"link wurde kopiert","data-event":"click focus",onClick:function(){navigator.clipboard.writeText(e.props.link)},children:this.props.link}),Object(D.jsx)(P.a,{id:"custom-event",place:"right",effect:"solid",globalEventOff:"click",afterShow:function(){navigator.clipboard.writeText(e.props.link)}}),Object(D.jsx)("div",{className:"link_text_2",children:"der download ist 24 Stunden lang g\xfcltig"}),Object(D.jsx)("div",{className:"link_text_2",children:"alle Daten werden nach ablauf unwiederuflich gel\xf6scht"})]})})}}]),t}(i.a.Component),I=t(40),U=(t(142),t(198)),B=t(197),A=t(201),V=t(203),R=t(200),W=t(202),H=t(60),J=t.n(H),G=function(e,n,t,a,i){return J.a.fire({background:"rgba(187, 187, 187, 0.886)",title:e,text:n,icon:"warning",showCancelButton:t,cancelButtonColor:C.red,confirmButtonColor:C.highBlue,confirmButtonText:a,cancelButtonText:i}).then((function(e){return!!e.isConfirmed||e.dismiss!==J.a.DismissReason.cancel&&void 0}))},K=function(e){Object(h.a)(t,e);var n=Object(f.a)(t);function t(e){var a;return Object(d.a)(this,t),(a=n.call(this,e)).reset_state=function(){a.setState({useUserMail:!1,useLink:!0,useMail:!1,useDownload:!0})},a.handleInput=function(e){var n=e.target;a.setState(Object(I.a)({},n.name,n.value))},a.handleMail=function(e){var n=e.target.value,t="mail"!=n;a.setState({send_option:n,useLink:t})},a.handleDownload=function(e){var n=e.target.value,t="12"!=n;console.log("radio ",n,"  is ",t),a.setState({download_option:n,useDownload:t})},a.radioSwitchMail=function(){return Object(D.jsxs)("div",{className:"send_view_change_zone_div",children:[Object(D.jsx)("div",{className:"send_view_radio_div",children:Object(D.jsxs)(R.a,{children:[Object(D.jsx)(W.a,{className:"send_view_formlabel",children:"\xdcbermittlungsart"}),Object(D.jsxs)(A.a,{value:a.state.send_option,onChange:a.handleMail,children:[Object(D.jsx)(V.a,{value:"link",control:Object(D.jsx)(B.a,{color:"default"}),label:"Link"}),Object(D.jsx)(V.a,{value:"mail",control:Object(D.jsx)(B.a,{color:"default"}),label:"Link per mail"})]})]})}),a.useLinkOrMail()]})},a.useLinkOrMail=function(){switch(a.state.send_option){case"mail":return Object(D.jsxs)("div",{className:"send_view_show_options",children:[Object(D.jsxs)("div",{className:"send_view_div_input",children:["E-mail des Absenders:",Object(D.jsx)("input",{className:"send_view_input",type:"email",name:"mail_user",value:a.state.mail_user,onChange:a.handleInput})]}),Object(D.jsxs)("div",{className:"send_view_div_input",children:["E-mail des Empf\xe4nger:",Object(D.jsx)("input",{className:"send_view_input",type:"email",name:"mail_to",value:a.state.mail_to,onChange:a.handleInput})]})]});case"link":return Object(D.jsx)("div",{className:"send_view_show_options",children:Object(D.jsx)("div",{className:"send_view_div",children:Object(D.jsx)("div",{className:"send_view_div_linktext",children:"Erhalte einen Link nach dem Upload"})})})}},a.radioSwitchDownload=function(){return Object(D.jsxs)("div",{className:"send_view_change_zone_div",children:[Object(D.jsx)("div",{className:"send_view_radio_div",children:Object(D.jsxs)(R.a,{children:[Object(D.jsx)(W.a,{className:"send_view_formlabel",children:"Download"}),Object(D.jsxs)(A.a,{value:a.state.download_option,onChange:a.handleDownload,children:[Object(D.jsx)(V.a,{value:"einmalig",control:Object(D.jsx)(B.a,{color:"default"}),label:"einmaliger Download"}),Object(D.jsx)(V.a,{value:"12",control:Object(D.jsx)(B.a,{color:"default"}),label:"innerhalb 12 Stunden"})]})]})}),a.downloadOptionText()]})},a.downloadOptionText=function(){switch(a.state.download_option){case"12":return Object(D.jsx)("div",{className:"sendview_info_text",children:' "Dein Upload wird 12 Stunden gespeichert, er steht so oft und zur jeder Zeit zum Download bereit"'});case"einmalig":return Object(D.jsx)("div",{className:"sendview_info_text",children:' "Nach dem erstem Dowload werden alle Daten der \xdcbertragung gel\xf6scht, kein weiter Download mehr m\xf6glich"'})}},a.send_info=Object(u.a)(l.a.mark((function e(){var n,t,i,s,c,o,r,u,d,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state,t=n.mail_to,i=n.mail_user,s=n.message,c=n.useDownload,o=n.send_option,r=n.useLink,u="E-mail exestiert nicht",d=!1,p="Ok","mail"!==o){e.next=39;break}if(i&&t){e.next=15;break}return a.props.close(),"Pflichtfelder sind nicht ausgef\xfcllt !","keine Eingabe",e.next=11,G("keine Eingabe","Pflichtfelder sind nicht ausgef\xfcllt !",d,p,null);case 11:if(!e.sent){e.next=15;break}return a.props.newOpen(),e.abrupt("return");case 15:return e.next=17,y.is_mail_detail(i).then((function(e){return e.data.isSuccess}));case 17:if(e.sent){e.next=27;break}return a.props.close(),"bitte \xfcberpr\xfcfen deine    Absender    Adresse",e.next=23,G(u,"bitte \xfcberpr\xfcfen deine    Absender    Adresse",d,p,null);case 23:if(!e.sent){e.next=27;break}return a.props.newOpen(),e.abrupt("return");case 27:return e.next=29,y.is_mail_detail(t).then((function(e){return e.data.isSuccess}));case 29:if(e.sent){e.next=39;break}return a.props.close(),"bitte \xfcberpr\xfcfen deine   Empf\xe4nger   Adresse",e.next=35,G(u,"bitte \xfcberpr\xfcfen deine   Empf\xe4nger   Adresse",d,p,null);case 35:if(!e.sent){e.next=39;break}return a.props.newOpen(),e.abrupt("return");case 39:a.props.infos({mail_user:i,mail_to:t,message:s,useDownload:c,useLink:r});case 40:case"end":return e.stop()}}),e)}))),a.state={useLink:!0,useDownload:!0,message:"",mail_user:"",mail_to:"",send_option:"link",download_option:"einmalig"},a.wrapper=i.a.createRef(),a}return Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.open!==e.open&&this.reset_state()}},{key:"render",value:function(){var e=this;return Object(D.jsx)(U.a,{ref:this.props.refi,PaperProps:{style:{borderRadius:6}},className:this.props.mobile?"send_view_dialog_mobile":"send_view_dialog",open:!0===this.props.open,fullScreen:!0,children:Object(D.jsxs)("div",{className:"send_view_frame",children:[Object(D.jsx)("div",{className:"send_view_div",children:"Daten\xfcbertragung"}),Object(D.jsx)("div",{className:"send_view_change_zone",children:this.radioSwitchDownload()}),Object(D.jsx)("div",{className:"send_view_change_zone",children:this.radioSwitchMail()}),Object(D.jsx)("div",{className:"send_view_div",children:Object(D.jsx)("textarea",{className:"send_view_message",placeholder:" schreibe eine Nachricht an den Empf\xe4nger...",rows:6,type:"text",name:"message",value:this.state.message,onChange:this.handleInput})}),Object(D.jsxs)("div",{className:"send_view_btn_div",children:[Object(D.jsx)("button",{className:"send_btn",onClick:function(){return e.props.close()},children:"abbruch"}),Object(D.jsx)("button",{className:"send_btn",onClick:function(){return e.send_info()},children:"senden"})]})]})})}}]),t}(i.a.Component),X=(t(154),3145728);function Z(e){var n=[],t=[].concat.apply([],Object.values(S));switch(e.forEach((function(e){t.find((function(n){return n==="."+e.toLowerCase()}))&&(n.includes(e.toLowerCase())||n.push(e.toLowerCase()))})),n.length){case 1:return".".concat(n[0]);case 2:return".".concat(n[0],".").concat(n[1]);default:return window.alert("fehler bei extensions"),""}}var q=function(e){Object(h.a)(t,e);var n=Object(f.a)(t);function t(e){var a;return Object(d.a)(this,t),(a=n.call(this,e)).resetChunkProperties=function(){a.setState({showProgress:!0,progress:0,counter:0,beginingOfTheChunk:0,endOfTheChunk:X})},a.resetUpload=function(){a.setState({showProgress:!1,process:0,counter:0,beginingOfTheChunk:0})},a.newFileUpload=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Neuer Upload?","sind Sie Sicher, Sie haben keine m\xf6glichkeit mehr an den Downloadlink zu kommen!",!0,"Ja, ich habe den link kopiert","Nein, ich kopiere mir den link nochmal",e.next=7,G("Neuer Upload?","sind Sie Sicher, Sie haben keine m\xf6glichkeit mehr an den Downloadlink zu kommen!",true,"Ja, ich habe den link kopiert","Nein, ich kopiere mir den link nochmal");case 7:e.sent&&a.setState({upload_success:!1,use_link:null,use_email:null});case 9:case"end":return e.stop()}}),e)}))),a.getFileContext=function(e){var n=[],t=Array.from(e.target.files),i=0,s=a.state.full_size;t.forEach((function(e){var t=e,a=t.size%X===0?t.size/X:Math.floor(t.size/X)+1,c=Object(v.a)(),o={file_size:t.size,origin_name:t.name,file_guid:c,chunk_count:a,file_data:t};i+=a,s+=t.size,n.push(o)})),a.setState({files:[].concat(Object(j.a)(a.state.files),n),full_count:a.state.full_count+i,full_size:s})},a.file_loop=function(){var e=Object(u.a)(l.a.mark((function e(n,t){var i,s,c,o,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new FormData).append("mail_to",t.mail_to),i.append("mail_user",t.mail_user),i.append("message",t.message),i.append("use_download",t.useDownload),i.append("use_link",t.useLink),e.next=8,y.create_major(i).then((function(e){return e.data.isSuccess?e.data.id:null}));case 8:if(!(s=e.sent)){e.next=27;break}c=Object(b.a)(n),e.prev=11,c.s();case 13:if((o=c.n()).done){e.next=19;break}return r=o.value,e.next=17,a.chunk_loop(r,s);case 17:e.next=13;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),c.e(e.t0);case 24:return e.prev=24,c.f(),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[11,21,24,27]])})));return function(n,t){return e.apply(this,arguments)}}(),a.chunk_loop=function(){var e=Object(u.a)(l.a.mark((function e(n,t){var i,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0,0,s=1;case 3:return c=n.file_data.slice(i,X+i),i+=c.size,c.size,e.next=8,a.uploadChunks(c,s,n,t);case 8:if(s!==n.chunk_count){e.next=10;break}return e.abrupt("break",13);case 10:s++,e.next=3;break;case 13:console.log("loop Done! ==> remove file form list"),a.removeItem(n);case 15:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),a.uploadChunks=function(){var e=Object(u.a)(l.a.mark((function e(n,t,i,s){var c,o,r,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(""),console.log("NEXT  CHUNK"),e.prev=2,(c=new FormData).append("id",s),c.append("chunk",n),c.append("chunk_size",n.size),c.append("counter",t),c.append("filename",i.file_guid),c.append("file_size",i.file_size),c.append("origin_name",i.origin_name),c.append("extension",Z(i.file_data.name.split("."))),e.next=14,y.insertfile(c);case 14:if(o=e.sent,!(r=o.data).isSuccess){e.next=27;break}if(a.setState({counter:a.state.counter+1}),a.state.counter!==a.state.full_count){e.next=23;break}return e.next=21,a.uploadCompleted(s);case 21:e.next=25;break;case 23:u=a.state.counter/a.state.full_count*100,a.setState({progress:u});case 25:e.next=29;break;case 27:return console.log("Error Occurred:",r.errorMessage),e.abrupt("return");case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(2),console.log("error",e.t0);case 34:case"end":return e.stop()}}),e,null,[[2,31]])})));return function(n,t,a,i){return e.apply(this,arguments)}}(),a.uploadCompleted=function(){var e=Object(u.a)(l.a.mark((function e(n){var t,i,s,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(new FormData).append("filename",a.state.fileGuid),e.next=4,y.upload_detail(n);case 4:t=e.sent,(i=t.data).isSuccess&&(i.link&&(s=i.link,"undefined"!==typeof window&&(c=window.location.protocol+"//"+window.location.host+"/airchannel/"+s,a.setState({use_link:c}))),i.email&&(o=i.email,console.log("show download email",o),a.setState({use_email:o})),console.log(""),console.log("finish upload"),console.log(""),a.resetUpload(),a.setState({progress:100,upload_success:!0}));case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),a.removeItem=function(e){var n=a.state.full_size;n-=e.file_size;var t=a.state.files.filter((function(n){if(n.file_guid!=e.file_guid)return n}));a.setState({files:t,full_size:n})},a.send=function(e){var n=a.state.files,t=n.map((function(e){return e.chunk_count})).reduce((function(e,n){return e+n}),0);console.log(t," full counts"),a.file_loop(n,e),a.setState({openSendView:!1,showProgress:!0})},a.readyToSend=function(){return Object(D.jsx)("div",{className:"ready_to_send_div",children:Object(D.jsx)("button",{className:"start_upload_btn",hidden:a.state.openSendView,onClick:function(){return a.setState({openSendView:!0})},children:"senden"})})},a.roundFileSize=function(e){var n=Math.round(e/1e3);if(n>1e3){var t=Math.round(e/1e5)/10;return t>2e3?Math.round(e/1e7)/100+"  GB":t+"  MB"}return n+"  KB"},a.bottomView=function(e){var n=a.state,t=n.full_size,i=n.upload_success,s="gesamt "+a.roundFileSize(t);if(i)return Object(D.jsxs)("div",{className:"div_input_upload",onClick:function(){return a.newFileUpload()},children:[Object(D.jsx)("label",{className:"label_input_upload",children:Object(D.jsx)(M.b,{size:50,color:C.black})}),Object(D.jsx)("div",{className:"text_input_upload",children:"hinzuf\xfcgen von Dateien"})]});var c=e.length>0?s:"hinzuf\xfcgen von Dateien";return Object(D.jsxs)("div",{className:"div_input_upload",children:[Object(D.jsxs)("label",{className:"label_input_upload",children:[Object(D.jsx)("input",{className:"input_upload",type:"file",multiple:!0,onChange:a.getFileContext}),Object(D.jsx)(M.b,{size:50,color:C.black})]}),Object(D.jsx)("div",{className:"text_input_upload",children:c}),e.length>0?a.readyToSend():null]})},a.state={files:[],showProgress:!1,counter:0,full_count:0,full_size:0,beginingOfTheChunk:0,endOfTheChunk:X,progress:0,openSendView:!1,use_link:null,use_email:null,upload_success:!1},a.wrapper=i.a.createRef(),a}return Object(p.a)(t,[{key:"render",value:function(){var e=this,n=this.state,t=n.showProgress,a=n.files,i=n.progress,s=(n.full_count,n.use_email,n.use_link);n.upload_success,n.full_size;return Object(D.jsxs)("div",{className:"frame_input_upload",children:[t?Object(D.jsx)("div",{children:t?Object(D.jsx)(z,{counter:i,bgcolor:C.accentColor}):null}):this.bottomView(a),a.length>0?Object(D.jsx)("div",{className:"upload_list",children:Object(D.jsx)(T,{items:a,removeItem:function(n){return e.removeItem(n)}})}):null,s?Object(D.jsx)("div",{className:"upload_finish",children:Object(D.jsx)(F,{link:s,return:function(){return console.log("........wiederholung......")}})}):null,Object(D.jsx)(K,{open:this.state.openSendView,close:function(){return e.setState({openSendView:!1})},infos:function(n){return e.send(n)},mobile:this.props.mobile,newOpen:function(){return e.setState({openSendView:!0})},refi:this.wrapper})]})}}]),t}(i.a.Component),Q=(t(161),t(86),function(e){Object(h.a)(t,e);var n=Object(f.a)(t);function t(e){var a;return Object(d.a)(this,t),(a=n.call(this,e)).state={filename:""},a}return Object(p.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.item;return Object(D.jsxs)("div",{className:"download_item_frame",children:[Object(D.jsx)("div",{className:"download_item_icon_div",children:Object(D.jsx)("div",{className:"download_item_icon",children:Object(D.jsx)(M.c,{size:30})})}),Object(D.jsx)("div",{className:"download_item_name_div",children:Object(D.jsx)("div",{className:"download_item_name",children:e.origin_name})})]})}}]),t}(i.a.Component));function Y(e){return Object(D.jsx)("div",{children:Object(D.jsx)("div",{className:"list_item",children:e.value})})}var $=function(e){Object(h.a)(t,e);var n=Object(f.a)(t);function t(e){var a;return Object(d.a)(this,t),(a=n.call(this,e)).create_list=function(){var e=[];return a.props.items.forEach((function(n){e.push(Object(D.jsx)(Q,{item:n}))})),e.map((function(n){return Object(D.jsx)(Y,{value:n},e.indexOf(n))}))},a.state={},a}return Object(p.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){this.props.items.length!==e.items.length&&console.log("items length \xe4nderung")}},{key:"render",value:function(){return Object(D.jsx)("div",{className:"File_list_frame",children:this.create_list()})}}]),t}(i.a.Component),ee=(t(162),function(e){Object(h.a)(t,e);var n=Object(f.a)(t);function t(e){var a;return Object(d.a)(this,t),(a=n.call(this,e)).state={backcolor:"transparent"},a}return Object(p.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(D.jsx)("div",{className:"download_mess_frame",children:this.props.message})}}]),t}(i.a.Component)),ne=function(e){Object(h.a)(t,e);var n=Object(f.a)(t);function t(e){var a;return Object(d.a)(this,t),(a=n.call(this,e)).checkLink=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.is_major_detail(n).then((function(e){if(e.data.isSuccess){var n=e.data;a.setState({isContent:!0,files:n.fileList,message:n.message}),console.log(e.data.fileList)}else console.log(" kein bay vorhanden")}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),a.deleteBucket=Object(u.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.link,console.log("delete api"),e.next=4,y.download_delete_detail(n).then((function(e){e&&a.setState({showProgress:!1})}));case 4:case"end":return e.stop()}}),e)}))),a.removeItem=function(e){var n=a.state.files.filter((function(n){if(n.filename!=e.filename)return n;console.log("gefunden !!!!")}));a.setState({files:n})},a.file_loop=Object(u.a)(l.a.mark((function e(){var n,t,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state.files,t=Object(b.a)(n),e.prev=2,t.s();case 4:if((i=t.n()).done){e.next=11;break}return s=i.value,console.log(s),e.next=9,a.downloadFiles(s);case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:a.deleteBucket();case 20:case"end":return e.stop()}}),e,null,[[2,13,16,19]])}))),a.downloadFiles=function(){var e=Object(u.a)(l.a.mark((function e(n){var t,i,s,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="localhost"==window.location.hostname?"http://127.0.0.1:5000/transmit/":"https://airchannel-py.herokuapp.com/transmit/","6ca12987d9feb7e0f8b523fdeb0c27_ce",i=n.origin_name,s=n.filename,n.file_size,c=n.extension,a.setState({showProgress:!0}),o={responseType:"arraybuffer",onDownloadProgress:function(e){console.log(e,"   ============");var n=Math.round(100*e.loaded/e.total);a.setState({counter:n})},url:t+"/download/"+s,method:"get",headers:{Authorization:"".concat("6ca12987d9feb7e0f8b523fdeb0c27_ce")}},e.next=7,y.download_stream(i,c,o).then((function(e){console.log("........download file finish........"),a.removeItem(n)}));case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),a.messageView=function(){var e=a.state.message;return Object(D.jsx)("div",{children:e.length>0?Object(D.jsxs)("div",{className:"download_message_view",children:[Object(D.jsx)("div",{className:"download_message_text",children:" Eine Nachricht f\xfcr dich "}),Object(D.jsx)(ee,{message:e})]}):null})},a.startDownload=function(){console.log(""),console.log("start")},a.changeDownloadView=function(){var e=a.state.complete;return Object(D.jsx)("div",{children:e?Object(D.jsx)("div",{className:"div_input_upload",children:Object(D.jsx)("div",{className:"text_input_upload",children:"download complete"})}):Object(D.jsxs)("div",{className:"div_input_upload",children:[Object(D.jsx)("div",{className:"download_icon_div",onClick:function(){return a.file_loop()},children:Object(D.jsx)(M.a,{size:35,color:C.black})}),Object(D.jsx)("div",{className:"text_input_upload",children:"starte den download"})]})})},a.state={counter:1,showProgress:!1,files:[],message:"",isContent:!1,link:a.props.match.params.id,complete:!1},a}return Object(p.a)(t,[{key:"componentDidMount",value:function(){console.log(" DOWNLOAD VIEW ");var e=this.props.match.params.id;this.checkLink(e)}},{key:"render",value:function(){var e=this.state,n=e.isContent,t=e.showProgress,a=e.counter,i=e.files;return n?Object(D.jsxs)("div",{className:"frame_input_upload",children:[t?Object(D.jsx)("div",{children:t?Object(D.jsx)(z,{counter:a,bgcolor:C.accentColor}):null}):this.changeDownloadView(),i.length>0?Object(D.jsxs)("div",{className:"download_list_view",children:[this.messageView(),Object(D.jsx)($,{items:i})]}):null]}):Object(D.jsx)("div",{className:"frame_input_upload",children:Object(D.jsx)("div",{className:"div_input_upload",children:Object(D.jsx)("div",{className:"text_input_upload",children:"NO CONTENT"})})})}}]),t}(i.a.Component),te=t.p+"static/media/AIR_1024px.e442824d.png",ae=t(89);function ie(){var e=window.innerWidth,n=window.innerHeight;console.log("w . ",e," h . ",n);var t=Object(ae.useImage)({srcList:"https://picsum.photos/".concat(e,"/").concat(n,"?random=1")}).src;return Object(D.jsx)("img",{src:t})}function se(){return Object(D.jsx)(a.Suspense,{fallback:Object(D.jsx)("div",{children:"Loading..."}),children:Object(D.jsx)(ie,{})})}var ce=Object(D.jsx)("div",{className:"open_beta",children:"open beta"}),oe=function(e){Object(h.a)(t,e);var n=Object(f.a)(t);function t(e){var a;return Object(d.a)(this,t),(a=n.call(this,e)).createPing=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.create_ping().then((function(e){console.log(e.data)}));case 2:case"end":return e.stop()}}),e)}))),a.routing=function(){return Object(D.jsxs)(m.c,{children:[Object(D.jsx)(m.a,{exact:!0,path:"/",render:function(e){return Object(D.jsx)(q,Object(o.a)(Object(o.a)({},e),{},{mobile:a.state.mobile}))}}),Object(D.jsx)(m.a,{path:"/:id",render:function(e){return Object(D.jsx)(ne,Object(o.a)(Object(o.a)({},e),{},{mobile:a.state.mobile}))}})]})},a.randomBackground=function(){var e=Math.floor(256*Math.random()),n=Math.floor(256*Math.random()),t=Math.floor(256*Math.random()),a=Math.floor(256*Math.random()),i=Math.floor(256*Math.random()),s=Math.floor(256*Math.random());"radial-gradient(rgb(".concat(e,", ").concat(n,", ").concat(t,"), rgb(").concat(a,", ").concat(i,", ").concat(s,"))");return{background:"white"}},a.state={mobile:!1,height:""},a}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.createPing(),window.addEventListener("resize",this.updateWindowDimensions()),console.log(window.location.hostname),this.setState({height:window.innerHeight+"px"})}},{key:"updateWindowDimensions",value:function(){var e=window.innerWidth<=600;document.documentElement.style.setProperty("--vh","".concat(window.innerHeight/100,"px")),this.setState({mobile:e})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){return Object(D.jsxs)("div",{className:"app_window",style:{height:this.state.height},children:[Object(D.jsxs)("div",{className:"head_view",children:[Object(D.jsxs)("div",{className:"title",children:[Object(D.jsx)("img",{className:"air_icon",src:te,alt:"Logo"})," AIR channel",ce]}),Object(D.jsx)("div",{className:"menu",children:Object(D.jsxs)("div",{className:"menu_icon",children:[Object(D.jsx)(M.d,{size:30,color:C.white})," "]})})]}),Object(D.jsx)("div",{className:"unkown_view",style:this.randomBackground(),children:Object(D.jsx)(se,{})}),Object(D.jsx)("div",{className:"actions_view",children:this.routing()})]})}}]),t}(i.a.Component),re=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,205)).then((function(n){var t=n.getCLS,a=n.getFID,i=n.getFCP,s=n.getLCP,c=n.getTTFB;t(e),a(e),i(e),s(e),c(e)}))},le=t(59);c.a.render(Object(D.jsx)(i.a.StrictMode,{children:Object(D.jsx)(le.a,{children:Object(D.jsx)(oe,{})})}),document.getElementById("root")),re()},80:function(e,n,t){},84:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=84},85:function(e,n){},86:function(e,n,t){}},[[166,1,2]]]);
//# sourceMappingURL=main.d3158ff9.chunk.js.map