(this.webpackJsonpairchannelclient=this.webpackJsonpairchannelclient||[]).push([[0],{200:function(e,t,n){},208:function(e,t,n){},228:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){},267:function(e,t,n){},270:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){},297:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(25),r=n.n(s),c=(n(228),n(42)),o=n(5),l=n.n(o),d=n(14),u=n(10),h=n(11),p=n(13),f=n(12),m=(n(230),n(8)),j=n(38),b=n(219),v=n(321),_=(n(231),n(53)),x=n.n(_),O=n(209);x.a.defaults.xsrfHeaderName="X-CSRFToken",x.a.defaults.xsrfCookieName="csrftoken";var w="localhost"===window.location.hostname,g=w?"http://127.0.0.1:8000/transmit/":"https://airchannel-py.herokuapp.com/transmit/",k={headers:{"Content-Type":"multipart/form-data;boundary=boundary",Accept:"application/json;text/plain"}},N={headers:{Authorization:"".concat(w?"local":"6ca12987d9feb7e0f8b523fdeb0c27_ce"),"Content-Type":"multipart/form-data;boundary=boundary",Accept:"application/json;text/plain"}},y=x.a.create({baseURL:g}),C={upload_detail:function(e){return y.get("upload/".concat(e),N)},download_delete_detail:function(e){return y.delete("remove/".concat(e),N)},create_major:function(e){return y.post("major/",e,N)},is_major_detail:function(e){return y.get("major/".concat(e),N)},download_stream:function(e,t,n){return O.a.download(e,t,n)},is_mail_detail:function(e){return y.get("mailvali/".concat(e),N)},insertfile:function(e){return y.post("upload/",e,N)},create_ping:function(){return y.get("ping/",k)},start_chunk_upload:function(e){return y.post("preparation/",e,N)}},S={highBlue:"#5ba3c7",grey:"#f0f0f0",pink:"#e8c8c8",green:"#a3c49f",orange:"#ebd7b7",white:"#ffffff",black:"#212121",accentColor:"#62bce3",olive:"#c4d184",lila:"#9397d9",red:"#d993a0",pastellgreen:"#98b8a7",yellow:"#f0df48",grey_blue:"#505a66",background1:"#505a66",background2:"#404954",background3:"#606b78",background_white:"rgba(187, 187, 187, 0.886)"},D=n(1),z=function(e){e.bgcolor;var t=e.counter,n={display:"flex",justifyContent:"flex-end",alignItems:"center",height:"100%",width:"".concat(t,"%"),backgroundColor:S.black};return Object(D.jsx)("div",{style:{position:"absolute",height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(D.jsx)("div",{style:{height:"6vh",width:"90%",backgroundColor:"rgba(255, 255, 255, 0.512)",borderRadius:"3vh",overflow:"hidden"},children:Object(D.jsx)("div",{style:n,children:Object(D.jsx)("span",{style:{position:"absolute",color:"white",height:"auto",minWidth:"50px",fontWeight:"bold",display:"flex",justifyContent:"flex-end",alignItems:"center",marginRight:"5px"},children:"".concat(Math.floor(t)," %")})})})})},I=(n(200),n(17)),L=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={filename:""},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.item;return Object(D.jsxs)("div",{className:"download_item_frame",children:[Object(D.jsx)("div",{className:"item_icon_div",children:Object(D.jsx)("div",{className:"item_icon",children:Object(D.jsx)(I.d,{size:30})})}),Object(D.jsx)("div",{className:"item_name_div",children:Object(D.jsx)("div",{className:"item_name",children:t.origin_name})}),Object(D.jsx)("div",{className:"item_remove_div",children:Object(D.jsx)("button",{className:"item_remove",onClick:function(){return e.props.removeItem(t)},children:Object(D.jsx)(I.g,{size:18})})})]})}}]),n}(i.a.Component);function E(e){return Object(D.jsx)("div",{children:Object(D.jsx)("div",{className:"list_item",children:e.value})})}var T=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).create_list=function(){var e=[];return a.props.items.forEach((function(t){e.push(Object(D.jsx)(L,{item:t,removeItem:function(e){return a.props.removeItem(e)}}))})),e.map((function(t){return Object(D.jsx)(E,{value:t},e.indexOf(t))}))},a.state={},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){this.props.items.length,e.items.length}},{key:"render",value:function(){return Object(D.jsx)("div",{className:"File_list_frame",children:this.create_list()})}}]),n}(i.a.Component),M=(n(267),n(210)),B=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).showView=function(){return a.props.isLink?Object(D.jsxs)("div",{className:"div_link",children:[Object(D.jsx)("div",{className:"link_text",children:" hier ist der link zum kopieren"}),Object(D.jsx)("a",{className:"link_copy","data-for":"custom-event","data-tip":"link wurde kopiert","data-event":"click focus",onClick:function(){navigator.clipboard.writeText(a.props.link)},children:a.props.link}),Object(D.jsx)(M.a,{id:"custom-event",place:"right",effect:"solid",globalEventOff:"click",afterShow:function(){navigator.clipboard.writeText(a.props.link)}}),Object(D.jsx)("div",{className:"link_text_2",children:"dein Download bleibt 12 Stunden lang gespeichert"}),Object(D.jsx)("div",{className:"link_text_2",children:"alle Daten werden nach ablauf unwiederuflich gel\xf6scht"})]}):Object(D.jsxs)("div",{className:"div_link",children:[Object(D.jsx)("div",{className:"link_text",children:"der Downloadlink wurde erfolgreich an "}),Object(D.jsxs)("div",{className:"email_text",children:[a.props.mailConfirm," "]}),Object(D.jsx)("div",{className:"link_text",children:"gesendet. "}),Object(D.jsx)("div",{className:"link_text_2",children:"dein Download bleibt 12 Stunden lang gespeichert"}),Object(D.jsx)("div",{className:"link_text_2",children:"alle Daten werden nach ablauf unwiederuflich gel\xf6scht"})]})},a.state={place:"top",type:"dark",effect:"float",condition:!1},a}return Object(h.a)(n,[{key:"changePlace",value:function(e){this.setState({place:e})}},{key:"changeType",value:function(e){this.setState({type:e})}},{key:"changeEffect",value:function(e){this.setState({effect:e})}},{key:"_onClick",value:function(){this.setState({condition:!0})}},{key:"render",value:function(){return Object(D.jsx)("div",{className:"view_finish",children:this.showView()})}}]),n}(i.a.Component),V=n(45),W=(n(270),n(320)),A=n(319),P=n(324),U=n(317),F=n(322),R=n(323),H=n(36),J=n.n(H),q=function(e,t,n,a,i){return J.a.fire({background:"rgba(187, 187, 187, 0.886)",title:e,text:t,icon:"warning",showCancelButton:n,cancelButtonColor:S.red,confirmButtonColor:S.highBlue,confirmButtonText:a,cancelButtonText:i}).then((function(e){return!!e.isConfirmed||e.dismiss!==J.a.DismissReason.cancel&&void 0}))},G=n(218),K=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).reset_state=function(){a.setState({useUserMail:!1,useLink:!0,useMail:!1,useDownload:!0})},a.handleInput=function(e){var t=e.target;a.setState(Object(V.a)({},t.name,t.value))},a.handleMail=function(e){var t=e.target.value,n="mail"!=t;a.setState({send_option:t,useLink:n})},a.handleDownload=function(e){var t=!0!==a.state.useDownload;a.setState({useDownload:t})},a.radioSwitchMail=function(){return Object(D.jsxs)("div",{className:"send_view_change_zone_div",children:[Object(D.jsx)("div",{className:"send_view_radio_div",children:Object(D.jsxs)(F.a,{children:[Object(D.jsx)(R.a,{className:"send_view_formlabel",children:"\xdcbermittlungsart"}),Object(D.jsxs)(P.a,{value:a.state.send_option,onChange:a.handleMail,children:[Object(D.jsx)(U.a,{value:"link",control:Object(D.jsx)(W.a,{color:"default"}),label:"Link"}),Object(D.jsx)(U.a,{value:"mail",control:Object(D.jsx)(W.a,{color:"default"}),label:"Link per mail"})]})]})}),a.useLinkOrMail()]})},a.useLinkOrMail=function(){switch(a.state.send_option){case"mail":return Object(D.jsxs)("div",{className:"send_view_show_options",children:[Object(D.jsxs)("div",{className:"send_view_div_input",children:["E-mail des Absenders:",Object(D.jsx)("input",{className:"send_view_input",type:"email",name:"mail_user",value:a.state.mail_user,onChange:a.handleInput})]}),Object(D.jsxs)("div",{className:"send_view_div_input",children:["E-mail des Empf\xe4nger:",Object(D.jsx)("input",{className:"send_view_input",type:"email",name:"mail_to",value:a.state.mail_to,onChange:a.handleInput})]})]});case"link":return Object(D.jsx)("div",{className:"send_view_show_options",children:Object(D.jsx)("div",{className:"send_view_div",children:Object(D.jsx)("div",{className:"send_view_div_linktext",children:"Erhalte einen Link nach dem Upload"})})})}},a.radioSwitchDownload=function(){return Object(D.jsxs)("div",{className:"send_view_change_zone_div",children:[Object(D.jsx)("div",{className:"send_view_radio_div",children:Object(D.jsxs)(F.a,{children:[Object(D.jsx)(R.a,{className:"send_view_formlabel",children:"Download"}),Object(D.jsx)(U.a,{control:Object(D.jsx)(A.a,{size:"Normal",color:"blue",checked:a.state.useDownload,onChange:a.handleDownload}),label:"einmaliger Download"})]})}),a.downloadOptionText()]})},a.downloadOptionText=function(){return a.state.useDownload?Object(D.jsx)("div",{className:"sendview_info_text",children:' "Nach dem erstem Dowload werden alle Daten der \xdcbertragung gel\xf6scht, kein weiter Download mehr m\xf6glich. Automatisch wird dein Upload nach 7 Tagen gel\xf6scht!"'}):Object(D.jsx)("div",{className:"sendview_info_text",children:' "Dein Upload wird 12 Stunden gespeichert, er steht so oft und zur jeder Zeit zum Download bereit"'})},a.send_info=Object(d.a)(l.a.mark((function e(){var t,n,i,s,r,c,o,d,u,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.mail_to,i=t.mail_user,s=t.message,r=t.useDownload,c=t.send_option,o=t.useLink,d="E-mail exestiert nicht",u=!1,h="Ok","mail"!==c){e.next=39;break}if(i&&n){e.next=15;break}return a.props.close(),"Pflichtfelder sind nicht ausgef\xfcllt !","keine Eingabe",e.next=11,q("keine Eingabe","Pflichtfelder sind nicht ausgef\xfcllt !",u,h,null);case 11:if(!e.sent){e.next=15;break}return a.props.newOpen(),e.abrupt("return");case 15:return e.next=17,C.is_mail_detail(i).then((function(e){return e.data.isSuccess}));case 17:if(e.sent){e.next=27;break}return a.props.close(),"bitte \xfcberpr\xfcfen deine    Absender    Adresse",e.next=23,q(d,"bitte \xfcberpr\xfcfen deine    Absender    Adresse",u,h,null);case 23:if(!e.sent){e.next=27;break}return a.props.newOpen(),e.abrupt("return");case 27:return e.next=29,C.is_mail_detail(n).then((function(e){return e.data.isSuccess}));case 29:if(e.sent){e.next=39;break}return a.props.close(),"bitte \xfcberpr\xfcfen deine   Empf\xe4nger   Adresse",e.next=35,q(d,"bitte \xfcberpr\xfcfen deine   Empf\xe4nger   Adresse",u,h,null);case 35:if(!e.sent){e.next=39;break}return a.props.newOpen(),e.abrupt("return");case 39:a.props.infos({mail_user:i,mail_to:n,message:s,useDownload:r,useLink:o});case 40:case"end":return e.stop()}}),e)}))),a.state={useLink:!0,useDownload:!0,message:"",mail_user:"",mail_to:"",send_option:"link",visible:!0},a.wrapper=i.a.createRef(),a}return Object(h.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.open!==e.open&&this.reset_state()}},{key:"hide",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){var e=this;return Object(D.jsx)("div",{className:this.props.mobile?"send_view_dialog_mobile":"send_view_dialog",children:Object(D.jsxs)("div",{className:this.props.mobile?"send_view_frame_mobile":"send_view_frame",children:[Object(D.jsx)("div",{className:"send_view_title_div",children:"Daten\xfcbertragung"}),Object(D.jsx)("div",{className:"send_view_change_zone",children:this.radioSwitchDownload()}),Object(D.jsx)("div",{className:"send_view_change_zone",children:this.radioSwitchMail()}),Object(D.jsx)("div",{className:"send_view_div",children:Object(D.jsx)("textarea",{className:"send_view_message",placeholder:" schreibe eine Nachricht an den Empf\xe4nger...",rows:6,type:"text",name:"message",value:this.state.message,onChange:this.handleInput})}),Object(D.jsxs)("div",{className:"send_view_btn_div",children:[Object(D.jsx)("button",{className:"send_btn",onClick:function(){return e.props.close()},children:"abbruch"}),Object(D.jsx)("button",{className:"send_btn",style:{color:G.a.blue},onClick:function(){return e.send_info()},children:"senden"})]})]})})}}]),n}(i.a.Component),X=n(215),Z=n.n(X);function Q(e){var t=Math.round(e/1e3);if(t>1e3){var n=Math.round(e/1e5)/10;return n>2e3?Math.round(e/1e7)/100+"  GB":n+"  MB"}return t+"  KB"}var Y={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none",borderRadius:"12px"}},$=3145728,ee=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).hide=function(){console.log("close"),a.setState({openSendView:!1})},a.resetChunkProperties=function(){a.setState({showProgress:!0,progress:0,counter:0,beginingOfTheChunk:0,endOfTheChunk:$})},a.resetUpload=function(){a.setState({showProgress:!1,process:0,counter:0,beginingOfTheChunk:0})},a.newFileUpload=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Neuer Upload?","sind Sie Sicher, Sie haben keine m\xf6glichkeit mehr an den Downloadlink zu kommen!",!0,"Ja, ich habe den link kopiert","Nein, ich kopiere mir den link nochmal",e.next=7,q("Neuer Upload?","sind Sie Sicher, Sie haben keine m\xf6glichkeit mehr an den Downloadlink zu kommen!",true,"Ja, ich habe den link kopiert","Nein, ich kopiere mir den link nochmal");case 7:e.sent&&a.setState({upload_success:!1,use_link:null,use_email:null});case 9:case"end":return e.stop()}}),e)}))),a.getFileContext=function(e){var t=[],n=Array.from(e.target.files),i=0,s=a.state.full_size;n.forEach((function(e){var n=e,a=n.size%$===0?n.size/$:Math.floor(n.size/$)+1,r=Object(v.a)(),c={file_size:n.size,origin_name:n.name,file_guid:r,chunk_count:a,file_data:n};i+=a,s+=n.size,t.push(c)})),a.setState({files:[].concat(Object(b.a)(a.state.files),t),full_count:a.state.full_count+i,full_size:s})},a.createMajor=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var i,s,r,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new FormData).append("mail_to",n.mail_to),i.append("mail_user",n.mail_user),i.append("message",n.message),i.append("use_download",n.useDownload),i.append("use_link",n.useLink),e.next=8,C.create_major(i).then((function(e){return e.data.isSuccess?e.data.id:null}));case 8:if(!(s=e.sent)){e.next=27;break}r=Object(j.a)(t),e.prev=11,r.s();case 13:if((c=r.n()).done){e.next=19;break}return o=c.value,e.next=17,a.counterOfFile(o,s);case 17:e.next=13;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),r.e(e.t0);case 24:return e.prev=24,r.f(),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[11,21,24,27]])})));return function(t,n){return e.apply(this,arguments)}}(),a.counterOfFile=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var i,s,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0,s=1;case 2:return r=s/t.chunk_count*100,c=t.file_data.slice(i,$+i),a.setState({progress:r}),e.next=7,a.chunk_loop(c,t,n,s);case 7:if(e.sent){e.next=11;break}return console.log("upload error"),e.abrupt("break",20);case 11:if(i+=c.size,s!==t.chunk_count){e.next=17;break}return e.next=15,a.uploadCompleted(n);case 15:return a.removeItem(t),e.abrupt("break",20);case 17:s++,e.next=2;break;case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.chunk_loop=function(){var e=Object(d.a)(l.a.mark((function e(t,n,i,s){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==s){e.next=6;break}return e.next=3,a.uploadFirstChunk(t,s,n,i);case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,a.uploadChunks(t,s,n,i);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),a.uploadFirstChunk=function(){var e=Object(d.a)(l.a.mark((function e(t,n,a,i){var s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=new FormData).append("id",i),s.append("chunk",t),s.append("chunk_size",t.size),s.append("counter",n),s.append("filename",a.file_guid),s.append("file_size",a.file_size),s.append("origin_name",a.origin_name),s.append("extension",a.file_data.name.split(".").slice(-1)[0]),e.next=12,C.start_chunk_upload(s).then((function(e){return e.data.isSuccess}));case 12:return r=e.sent,e.abrupt("return",r);case 16:return e.prev=16,e.t0=e.catch(0),console.log("error",e.t0),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n,a,i){return e.apply(this,arguments)}}(),a.uploadChunks=function(){var e=Object(d.a)(l.a.mark((function e(t,n,a,i){var s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=new FormData).append("id",i),s.append("chunk",t),s.append("chunk_size",t.size),s.append("counter",n),s.append("filename",a.file_guid),e.next=9,C.insertfile(s).then((function(e){return e.data.isSuccess}));case 9:return r=e.sent,e.abrupt("return",r);case 13:return e.prev=13,e.t0=e.catch(0),console.log("error",e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a,i){return e.apply(this,arguments)}}(),a.uploadCompleted=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,i,s,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.upload_detail(t);case 2:n=e.sent,(i=n.data).isSuccess&&(i.link&&(s=i.link,"undefined"!==typeof window&&(r=window.location.protocol+"//"+window.location.host+"/"+s,a.setState({upload_success:!0,link:r,isLink:!0}))),i.email&&(c=i.email,console.log("show download email",c),a.setState({upload_success:!0,mailConfirm:c,isLink:!1})),a.resetUpload(),a.setState({upload_success:!0}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.removeItem=function(e){var t=a.state.full_size;t-=e.file_size;var n=a.state.files.filter((function(t){if(t.file_guid!=e.file_guid)return t}));a.setState({files:n,full_size:t})},a.send=function(e){var t=a.state.files,n=t.map((function(e){return e.chunk_count})).reduce((function(e,t){return e+t}),0);console.log(n," full counts"),a.setState({openSendView:!1,showProgress:!0},(function(){a.createMajor(t,e)}))},a.readyToSend=function(){return Object(D.jsx)("div",{className:"ready_to_send_div",children:Object(D.jsx)("button",{className:"start_upload_btn",hidden:a.state.openSendView,onClick:function(){return a.setState({openSendView:!0})},children:"senden"})})},a.bottomView=function(e){var t=a.state,n=t.full_size,i=t.upload_success,s="gesamt "+Q(n);if(i)return Object(D.jsxs)("div",{className:"div_input_upload",onClick:function(){return a.newFileUpload()},children:[Object(D.jsx)("label",{className:"label_input_upload",children:Object(D.jsx)(I.c,{size:50,color:S.black})}),Object(D.jsx)("div",{className:"text_input_upload",children:"hinzuf\xfcgen von Dateien"})]});var r=e.length>0?s:"hinzuf\xfcgen von Dateien";return Object(D.jsxs)("div",{className:"div_input_upload",children:[Object(D.jsxs)("label",{className:"label_input_upload",children:[Object(D.jsx)("input",{className:"input_upload",type:"file",multiple:!0,onChange:a.getFileContext}),Object(D.jsx)(I.c,{size:50,color:S.black})]}),Object(D.jsx)("div",{className:"text_input_upload_size",children:r}),e.length>0?a.readyToSend():null,Object(D.jsx)("div",{className:"rodal_div",children:Object(D.jsx)(Z.a,{style:Y,isOpen:a.state.openSendView,onRequestClose:a.hide,ariaHideApp:!1,children:Object(D.jsx)(K,{open:a.state.openSendView,close:a.hide,infos:function(e){return a.send(e)},mobile:a.props.mobile,newOpen:function(){return a.setState({openSendView:!0})}})})})]})},a.state={files:[],showProgress:!1,counter:0,full_count:0,full_size:0,beginingOfTheChunk:0,endOfTheChunk:$,progress:0,openSendView:!1,mailConfirm:"",upload_success:!1,visible:!1,link:"",isLink:null},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.showProgress,a=t.files,i=t.progress,s=t.link,r=t.upload_success,c=t.mailConfirm,o=t.isLink;return Object(D.jsxs)("div",{className:"frame_input_upload",children:[n?Object(D.jsx)("div",{children:n?Object(D.jsx)(z,{counter:i,bgcolor:S.accentColor}):null}):this.bottomView(a),a.length>0?Object(D.jsx)("div",{className:"upload_list",children:Object(D.jsx)(T,{items:a,removeItem:function(t){return e.removeItem(t)}})}):null,r?Object(D.jsx)("div",{className:"upload_finish",children:Object(D.jsx)(B,{link:s,mailConfirm:c,isLink:o})}):null]})}}]),n}(i.a.Component),te=(n(291),n(208),function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={filename:""},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.item;return Object(D.jsxs)("div",{className:"download_item_frame",children:[Object(D.jsx)("div",{className:"download_item_icon_div",children:Object(D.jsx)("div",{className:"download_item_icon",children:Object(D.jsx)(I.d,{size:30})})}),Object(D.jsx)("div",{className:"download_item_name_div",children:Object(D.jsx)("div",{className:"download_item_name",children:e.origin_name})})]})}}]),n}(i.a.Component));function ne(e){return Object(D.jsx)("div",{children:Object(D.jsx)("div",{className:"list_item",children:e.value})})}var ae=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).create_list=function(){var e=[];return a.props.items.forEach((function(t){e.push(Object(D.jsx)(te,{item:t}))})),e.map((function(t){return Object(D.jsx)(ne,{value:t},e.indexOf(t))}))},a.state={},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){this.props.items.length!==e.items.length&&console.log("items length \xe4nderung")}},{key:"render",value:function(){return Object(D.jsx)("div",{className:"File_list_frame",children:this.create_list()})}}]),n}(i.a.Component),ie=(n(292),function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={backcolor:"transparent"},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(D.jsx)("div",{className:"download_mess_frame",children:this.props.message})}}]),n}(i.a.Component)),se=function(e,t,n,a,i){return J.a.fire({background:"rgba(187, 187, 187, 0.886)",title:e,html:t,icon:"info",showCancelButton:n,cancelButtonColor:S.red,confirmButtonColor:S.highBlue,confirmButtonText:a,cancelButtonText:i}).then((function(e){return!!e.isConfirmed||e.dismiss!==J.a.DismissReason.cancel&&void 0}))},re=n(216),ce=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).htmlText=function(){var e,t=a.state.majorInfo,n=t.mail_to,i=t.mail_user,s=t.date,r=t.use_download,c=t.use_link,o=0,l=Object(j.a)(a.state.files);try{for(l.s();!(e=l.n()).done;){o+=e.value.file_size}}catch(b){l.e(b)}finally{l.f()}var d="gesamt "+Q(o),u=new Date(s),h=i||"keine Angabe",p=n===[""]?n:"keine Angabe",f=r?"einmailger Download":"upload wird nach 12 Std gel\xf6scht",m=c?"upload-Link":"E-mail Benachrichtung";return Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{style:{fontWeight:"600",height:"1.5em"},children:[" Erstellt: ",Object(D.jsxs)("span",{style:{fontWeight:"300"},children:[" ",u.toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"numeric",day:"numeric",hour:"numeric"})]})]}),Object(D.jsxs)("div",{style:{fontWeight:"600",height:"1.5em"},children:[" Dateigr\xf6\xdfe: ",Object(D.jsxs)("span",{style:{fontWeight:"300"},children:[" ",d]})]}),Object(D.jsxs)("div",{style:{fontWeight:"600",height:"1.5em"},children:[" Absender: ",Object(D.jsxs)("span",{style:{fontWeight:"300"},children:[" ",h]})]}),Object(D.jsxs)("div",{style:{fontWeight:"600",height:"1.5em"},children:[" Empf\xe4nger: ",Object(D.jsxs)("span",{style:{fontWeight:"300"},children:[" ",p]})]}),Object(D.jsxs)("div",{style:{fontWeight:"600",height:"1.5em"},children:[" Speicher Option: ",Object(D.jsxs)("span",{style:{fontWeight:"300"},children:[" ",f]})]}),Object(D.jsxs)("div",{style:{fontWeight:"600",height:"1.5em"},children:[" \xdcbermittlungsart: ",Object(D.jsxs)("span",{style:{fontWeight:"300"},children:[" ",m]})]})]})},a.infoView=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Upload Infos",!1,"Ok",t=Object(re.renderToString)(a.htmlText()),e.next=6,se("Upload Infos",t,false,"Ok",null);case 6:if(!e.sent){e.next=9;break}return e.abrupt("return");case 9:case"end":return e.stop()}}),e)}))),a.checkLink=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.is_major_detail(t).then((function(e){if(e.data.isSuccess){var t=e.data;a.setState({isContent:!0,files:t.fileList,message:t.message,majorInfo:t.majorInfo}),console.log(e.data)}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.deleteBucket=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.link,console.log("delete api"),e.next=4,C.download_delete_detail(t).then((function(e){e&&a.setState({showProgress:!1})}));case 4:case"end":return e.stop()}}),e)}))),a.file_loop=Object(d.a)(l.a.mark((function e(){var t,n,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state.files,n=Object(j.a)(t),e.prev=2,n.s();case 4:if((i=n.n()).done){e.next=11;break}return s=i.value,console.log(s),e.next=9,a.downloadFiles(s);case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:a.deleteBucket();case 20:case"end":return e.stop()}}),e,null,[[2,13,16,19]])}))),a.downloadFiles=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,i,s,r,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="localhost"==window.location.hostname,i=n?"http://127.0.0.1:8000/transmit/":"https://airchannel-py.herokuapp.com/transmit/",s=n?"local":"6ca12987d9feb7e0f8b523fdeb0c27_ce",r=t.origin_name,c=t.filename,a.setState({showProgress:!0}),o={responseType:"arraybuffer",onDownloadProgress:function(e){var t=Math.round(100*e.loaded/e.total);a.setState({counter:t})},url:i+"download/"+c,method:"get",headers:{Authorization:"".concat(s)}},"",e.next=9,C.download_stream(r,"",o).then((function(e){a.removeItem(t)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.removeItem=function(e){var t=a.state.files.filter((function(t){if(t.filename!=e.filename)return t;console.log("gefunden !!!!")}));a.setState({files:t})},a.messageView=function(){var e=a.state.message;return Object(D.jsx)("div",{children:e.length>0?Object(D.jsxs)("div",{className:"download_message_view",children:[Object(D.jsx)("div",{className:"download_message_text",children:" Eine Nachricht f\xfcr dich "}),Object(D.jsx)(ie,{message:e})]}):null})},a.infoBtnView=function(){return Object(D.jsx)("div",{className:"download_info_btn_div",onClick:function(){return a.infoView()},children:Object(D.jsx)(I.e,{size:30,color:S.black})})},a.changeDownloadView=function(){var e=100===a.state.counter;return Object(D.jsx)("div",{children:e?Object(D.jsxs)("div",{className:"div_input_upload",children:[Object(D.jsx)("div",{className:"download_icon_div",children:Object(D.jsx)(I.b,{size:35,color:S.black})}),Object(D.jsx)("div",{className:"text_input_upload",children:"download complete"})]}):Object(D.jsxs)("div",{className:"div_input_upload",children:[Object(D.jsx)("div",{className:"download_icon_div",onClick:function(){return a.file_loop()},children:Object(D.jsx)(I.a,{size:35,color:S.black})}),Object(D.jsx)("div",{className:"text_input_upload",children:"starte den download"}),a.infoBtnView()]})})},a.state={counter:1,showProgress:!1,files:[],majorInfo:{},message:"",isContent:!1,link:a.props.match.params.id,complete:!1,openInfoView:!1},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log(" DOWNLOAD VIEW ");var e=this.props.match.params.id;this.checkLink(e)}},{key:"render",value:function(){var e=this.state,t=e.isContent,n=e.showProgress,a=e.counter,i=e.files;return t?Object(D.jsxs)("div",{className:"frame_input_upload",children:[n?Object(D.jsx)("div",{children:n?Object(D.jsx)(z,{counter:a,bgcolor:S.accentColor}):null}):this.changeDownloadView(),i.length>0?Object(D.jsxs)("div",{className:"download_list_view",children:[this.messageView(),Object(D.jsx)(ae,{items:i})]}):null]}):Object(D.jsx)("div",{className:"frame_input_upload",children:Object(D.jsx)("div",{className:"div_input_upload",children:Object(D.jsx)("div",{className:"text_input_upload",children:"NO CONTENT"})})})}}]),n}(i.a.Component),oe=n.p+"static/media/AIR_1024px.e442824d.png",le=n(217);function de(){var e=window.screen.width,t=window.screen.height,n=Object(le.useImage)({srcList:"https://picsum.photos/".concat(e,"/").concat(t,"?random=1")}).src;return Object(D.jsx)("img",{src:n})}function ue(){return Object(D.jsx)(a.Suspense,{fallback:Object(D.jsx)("div",{style:{height:"100%",width:"100%",background:"rgba(187, 187, 187, 0.486)"}}),children:Object(D.jsx)(de,{})})}var he=Object(D.jsx)("div",{className:"open_beta",children:"open beta"}),pe=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).createPing=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.create_ping().then((function(e){e.data.isSuccess&&a.setState({backend:!0})}));case 2:case"end":return e.stop()}}),e)}))),a.routing=function(){return Object(D.jsxs)(m.c,{children:[Object(D.jsx)(m.a,{exact:!0,path:"/",render:function(e){return Object(D.jsx)(ee,Object(c.a)(Object(c.a)({},e),{},{mobile:a.state.mobile,backend:a.state.backend}))}}),Object(D.jsx)(m.a,{path:"/:id",render:function(e){return Object(D.jsx)(ce,Object(c.a)(Object(c.a)({},e),{},{mobile:a.state.mobile,backend:a.state.backend}))}})]})},a.state={mobile:!1,height:"",backend:!1},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.createPing(),window.addEventListener("resize",this.updateWindowDimensions()),this.setState({height:window.innerHeight+"px"})}},{key:"updateWindowDimensions",value:function(){var e=window.innerWidth<=600;document.documentElement.style.setProperty("--vh","".concat(window.innerHeight/100,"px")),this.setState({mobile:e})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){return Object(D.jsxs)("div",{className:"app_window",style:{height:this.state.height},children:[Object(D.jsxs)("div",{className:"head_view",children:[Object(D.jsxs)("div",{className:"title",children:[Object(D.jsx)("img",{className:"air_icon",src:oe,alt:"Logo"})," AIR channel",he]}),Object(D.jsx)("div",{className:"menu",children:Object(D.jsxs)("div",{className:"menu_icon",children:[Object(D.jsx)(I.f,{size:30,color:S.white})," "]})})]}),Object(D.jsx)("div",{className:"unkown_view",children:Object(D.jsx)(ue,{})}),Object(D.jsx)("div",{className:"actions_view",children:this.routing()})]})}}]),n}(i.a.Component),fe=n(66);r.a.render(Object(D.jsx)(i.a.StrictMode,{children:Object(D.jsx)(fe.a,{children:Object(D.jsx)(pe,{})})}),document.getElementById("root"))}},[[297,1,2]]]);
//# sourceMappingURL=main.6dcb675e.chunk.js.map